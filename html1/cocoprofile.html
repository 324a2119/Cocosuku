<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>„Éó„É≠„Éï„Ç£„Éº„É´ ‚Äî „Ç≥„Ç≥„Çπ„ÇØ</title>
<style>
:root {
  --bg:#fff7f9;
  --card:#fff;
  --accent:#ffd1dc;
  --accent2:#ffeeba;
  --text:#444;
  --muted:#888;
  --radius:16px;
  font-family:"Noto Sans JP","Rounded Mplus 1c",sans-serif;
}
*{box-sizing:border-box;}
body{margin:0;padding:0;background:var(--bg);color:var(--text);overflow-x:hidden;}
.app{display:flex;flex-direction:column;max-width:600px;margin:0 auto;min-height:100vh;padding-bottom:80px;}
.brand{display:flex;align-items:center;gap:8px;margin-bottom:16px;padding:12px 16px;background:var(--card);border-radius:0 0 var(--radius) var(--radius);box-shadow:0 2px 8px rgba(0,0,0,0.08);cursor:pointer;}
.logo{width:44px;height:44px;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;color:#fff;font-size:18px;}
.app-name{font-size:20px;font-weight:bold;color:#444;}
.profile-card{background:var(--card);padding:24px;margin:24px 16px;border-radius:var(--radius);box-shadow:0 4px 12px rgba(0,0,0,0.08);text-align:center;display:flex;flex-direction:column;align-items:center;}
.avatar{width:90px;height:90px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:bold;color:#fff;font-size:30px;margin-bottom:12px;box-shadow:0 3px 6px rgba(0,0,0,0.1);}
.info{margin:4px 0;color:var(--text);}
.stats{display:flex;gap:16px;margin-top:8px;}
.stat{font-weight:bold;}
.name-input, .bio-input, .hobby-input, .circle-input, .course-input, .qualification-input, .grade-input, .comment-input{
  width:80%;padding:8px;margin:6px 0;border-radius:12px;border:1px solid #ddd;font-size:16px;
}
.save-btn{margin-top:12px;background:linear-gradient(180deg,var(--accent),var(--accent2));border:none;border-radius:12px;padding:10px 16px;color:#444;font-weight:bold;cursor:pointer;box-shadow:0 3px 6px rgba(0,0,0,0.1);}
.save-btn:hover{transform:scale(1.05);}
.nav{position:fixed;bottom:0;left:0;width:100%;background:var(--card);border-top:1px solid #f0f0f0;display:flex;justify-content:space-around;padding:8px 0;box-shadow:0 -2px 8px rgba(0,0,0,0.05);}
.nav button{background:linear-gradient(180deg,var(--accent),var(--accent2));border:none;border-radius:50%;width:44px;height:44px;font-size:22px;color:#444;cursor:pointer;transition:0.2s;box-shadow:0 2px 4px rgba(0,0,0,0.2);}
.nav button:hover{transform:scale(1.1);}
.nav button.active{color:#ff7fa3;}
</style>
</head>
<body>
<div class="app">
  <div class="brand" onclick="goTimeline()">
    <div class="logo">Co</div>
    <div class="app-name">„Ç≥„Ç≥„Çπ„ÇØ</div>
  </div>

  <div class="profile-card">
    <div class="avatar" id="avatarPreview">N</div>
    <input type="text" id="nameInput" class="name-input" placeholder="ÂêçÂâç„ÇíÂÖ•Âäõ">
    <input type="text" id="bioInput" class="bio-input" placeholder="Ëá™Â∑±Á¥π‰ªã„ÇíÂÖ•Âäõ">
    <input type="text" id="hobbyInput" class="hobby-input" placeholder="Ë∂£Âë≥">
    <input type="text" id="circleInput" class="circle-input" placeholder="„Çµ„Éº„ÇØ„É´">
    <input type="text" id="courseInput" class="course-input" placeholder="Â≠¶Áßë">
    <input type="text" id="qualificationInput" class="qualification-input" placeholder="Ë≥áÊ†º">
    <input type="text" id="gradeInput" class="grade-input" placeholder="Â≠¶Âπ¥">
    <input type="text" id="commentInput" class="comment-input" placeholder="‰∏ÄË®Ä">
    <div class="stats">
      <div class="stat">„Éï„Ç©„É≠„Éº‰∏≠: <span id="followingCount">0</span></div>
      <div class="stat">„Éï„Ç©„É≠„ÉØ„Éº: <span id="followerCount">0</span></div>
    </div>
    <button class="save-btn" onclick="saveProfile()">‰øùÂ≠ò</button>
  </div>
</div>

<nav class="nav">
  <button onclick="goTimeline()">üè†</button>
  <button onclick="goCalendar()">üìÖ</button>
  <button onclick="goChat()">üíå</button>
  <button class="active">üë§</button>
</nav>

<script>
function goTimeline(){ window.location.href="cocotimeline.html"; }
function goCalendar(){ window.location.href="cococalendar.html"; }
function goChat(){ window.location.href="cocochat.html"; }

const nameInput = document.getElementById("nameInput");
const bioInput = document.getElementById("bioInput");
const hobbyInput = document.getElementById("hobbyInput");
const circleInput = document.getElementById("circleInput");
const courseInput = document.getElementById("courseInput");
const qualificationInput = document.getElementById("qualificationInput");
const gradeInput = document.getElementById("gradeInput");
const commentInput = document.getElementById("commentInput");
const avatarPreview = document.getElementById("avatarPreview");
const followingCount = document.getElementById("followingCount");
const followerCount = document.getElementById("followerCount");

let myProfile = JSON.parse(localStorage.getItem("profile") || '{"name":"Ëá™ÂàÜ","avatar":"S"}');
let follows = JSON.parse(localStorage.getItem("follows") || "{}");

function saveProfile(){
  const profile = {
    name: nameInput.value.trim(),
    bio: bioInput.value.trim(),
    hobby: hobbyInput.value.trim(),
    circle: circleInput.value.trim(),
    course: courseInput.value.trim(),
    qualification: qualificationInput.value.trim(),
    grade: gradeInput.value.trim(),
    comment: commentInput.value.trim(),
    avatar: nameInput.value.trim() ? nameInput.value[0] : "N"
  };
  avatarPreview.textContent = profile.avatar;
  localStorage.setItem("profile", JSON.stringify(profile));
  myProfile = profile;
  updateStats();
  alert("„Éó„É≠„Éï„Ç£„Éº„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºÅ");
}

// „Éï„Ç©„É≠„Éº„Éª„Éï„Ç©„É≠„ÉØ„ÉºÊï∞„ÅÆÊõ¥Êñ∞
function updateStats(){
  if(!follows[myProfile.name]) follows[myProfile.name] = [];
  followingCount.textContent = follows[myProfile.name].length;

  // „Éï„Ç©„É≠„ÉØ„ÉºÊï∞Ë®àÁÆó
  let count = 0;
  for(const key in follows){
    if(follows[key].includes(myProfile.name)) count++;
  }
  followerCount.textContent = count;
}

// ÂàùÊúüË°®Á§∫
window.addEventListener('load', ()=>{
  const profile = JSON.parse(localStorage.getItem("profile"));
  if(profile){
    nameInput.value = profile.name;
    bioInput.value = profile.bio;
    hobbyInput.value = profile.hobby;
    circleInput.value = profile.circle;
    courseInput.value = profile.course;
    qualificationInput.value = profile.qualification;
    gradeInput.value = profile.grade;
    commentInput.value = profile.comment;
    avatarPreview.textContent = profile.avatar;
  }
  updateStats();
});
</script>
</body>
</html>
